<script setup lang="ts">
const { data } = await useFetch<{ redirect: string }>("/api/redirect", {
  server: true,
});
if (data.value?.redirect) {
  navigateTo(data.value.redirect, { replace: true, redirectCode: 301 });
}

useColorMode().preference = "white";
useAppConfig().ui.primary = "black";

const arr = [
  { title: "ì—¬í–‰ìš© í™˜ìœ¨ê³„ì‚°ê¸°", icon: "i-fluent-emoji-flat-currency-exchange", to: "/currency/all", color: "blue" },
  { title: "Micro SaaS ê³ ê° ê³„ì‚°ê¸°", icon: "i-fluent-emoji-flat-microbe", to: "/micro-saas", color: "cyan" },
  { title: "ì¸í”„ëŸ° ìˆ˜ìµ ê³„ì‚°ê¸°", icon: "i-fluent-emoji-flat-seedling", to: "/inf", color: "green" },
  { title: "ì¤‘ìœ„ì†Œë“ Â· ì›”í‰ê· ì†Œë“ ê³„ì‚°ê¸°", icon: "i-fluent-emoji-flat-money-with-wings", to: "/income", color: "red" },
];

const moveCalculator = async (v: { to: string; color: string }) => {
  useAppConfig().ui.primary = v.color;
  await navigateTo(v.to);
};

const title = "ì¹¼í¬ë¦¬ì—ì´í„°";
const title2 = "calcreator.cc";
const desc = "ê³„ì‚°ê¸°ë¡œ ë„ë¦¬ ì´ë¡­ê²Œ";

useSeoMeta({
  title: `${title} ${title2}`,
  ogTitle: `${title} ${title2}`,
  description: desc,
  ogDescription: desc,
  twitterCard: "summary_large_image",
});

defineOgImageComponent("LandingHero", { chip: "ğŸ”¢ğŸŒğŸ‘" });
</script>
<template>
  <div>
    <LandingHero :title="title" :title2="title2" :desc="`&quot;${desc}&quot;`" color-code="primary" />
    <UDivider />
    <template v-for="v in arr">
      <UButton
        class="w-full"
        color="black"
        variant="ghost"
        size="xl"
        :alt="v.title"
        :to="v.to"
        square
        @click="moveCalculator(v)"
      >
        <div class="flex gap-2 justify-between w-full items-center">
          <UButton color="gray" class="p-1">
            <UIcon :name="v.icon" class="w-[1.5em] h-[1.5em]" dynamic />
          </UButton>
          <span class="flex-1 text-left truncate tracking-tighter ml-1">{{ v.title }}</span>
          <UIcon name="i-ph-caret-right" size="1rem" />
        </div>
      </UButton>
    </template>
    <UDivider />
    <div class="flex gap-2 m-3 justify-center">
      <UButton color="white" to="https://naver.me/Gpfd5bxD" target="form"> ì œì•ˆí•˜ê¸° </UButton>
      <UButton color="black" to="https://www.threads.net/@irontaek" target="blog"> ë§Œë“ ì´ : ìœ ì² íƒ </UButton>
    </div>
  </div>
</template>

<style lang="scss" scoped></style>
